---
phase: 01-build-system
plan: 02
type: execute
wave: 2
depends_on:
  - 01-01
files_modified:
  - EIDCredentialProvider/EIDCredentialProvider.vcxproj
  - EIDAuthenticationPackage/EIDAuthenticationPackage.vcxproj
  - EIDConfigurationWizard/EIDConfigurationWizard.vcxproj
  - EIDConfigurationWizardElevated/EIDConfigurationWizardElevated.vcxproj
  - EIDLogManager/EIDLogManager.vcxproj
  - EIDPasswordChangeNotification/EIDPasswordChangeNotification.vcxproj
autonomous: false

must_haves:
  truths:
    - "All 6 dependent projects have C++23 preview flag enabled"
    - "DLL projects build successfully with C++23 flag"
    - "EXE projects build successfully with C++23 flag"
    - "Static CRT linkage is preserved in all projects"
  artifacts:
    - path: "EIDCredentialProvider/EIDCredentialProvider.vcxproj"
      provides: "Credential Provider C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - path: "EIDAuthenticationPackage/EIDAuthenticationPackage.vcxproj"
      provides: "LSA Authentication Package C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - path: "EIDConfigurationWizard/EIDConfigurationWizard.vcxproj"
      provides: "Configuration Wizard C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - path: "EIDConfigurationWizardElevated/EIDConfigurationWizardElevated.vcxproj"
      provides: "Elevated Wizard C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - path: "EIDLogManager/EIDLogManager.vcxproj"
      provides: "Log Manager C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - path: "EIDPasswordChangeNotification/EIDPasswordChangeNotification.vcxproj"
      provides: "Password Change Notification C++23 configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
  key_links:
    - from: "All 6 .vcxproj files"
      to: "MSVC compiler"
      via: "ItemDefinitionGroup/ClCompile/LanguageStandard"
      pattern: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
    - from: "All 6 projects"
      to: "EIDCardLibrary"
      via: "ProjectReference link"
      pattern: "<ProjectReference.*EIDCardLibrary"
---

<objective>
Add C++23 preview language standard to the remaining 6 projects and verify each builds successfully.

Purpose: After EIDCardLibrary is verified, update all dependent projects (3 DLLs and 3 EXEs) to enable C++23 compilation across the entire solution.

Output: 6 modified .vcxproj files with C++23 flag, verified outputs.
</objective>

<execution_context>
@C:/Users/user/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/user/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-build-system/01-build-system-RESEARCH.md
@.planning/codebase/STACK.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/ARCHITECTURE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update EIDCredentialProvider.vcxproj with C++23 flag</name>
  <files>EIDCredentialProvider/EIDCredentialProvider.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections (Debug|Win32, Debug|x64, Release|Win32, Release|x64).

    For each configuration:
    1. Find `<ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='<config>'">`
    2. Find the child `<ClCompile>` element
    3. Insert `<LanguageStandard>stdcpp23preview</LanguageStandard>` as the first child of `<ClCompile>`

    Preserve existing RuntimeLibrary settings (MultiThreaded for Release, MultiThreadedDebug for Debug).
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDCredentialProvider/EIDCredentialProvider.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="auto">
  <name>Task 2: Update EIDAuthenticationPackage.vcxproj with C++23 flag</name>
  <files>EIDAuthenticationPackage/EIDAuthenticationPackage.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections.

    Follow the same pattern as Task 1: insert as first child of each `<ClCompile>` element across all configurations.

    Preserve existing RuntimeLibrary settings.
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDAuthenticationPackage/EIDAuthenticationPackage.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="auto">
  <name>Task 3: Update EIDConfigurationWizard.vcxproj with C++23 flag</name>
  <files>EIDConfigurationWizard/EIDConfigurationWizard.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections.

    This is an Application (EXE) project. Same XML modification pattern applies.

    Preserve existing RuntimeLibrary settings.
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDConfigurationWizard/EIDConfigurationWizard.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="auto">
  <name>Task 4: Update EIDConfigurationWizardElevated.vcxproj with C++23 flag</name>
  <files>EIDConfigurationWizardElevated/EIDConfigurationWizardElevated.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections.

    This is the elevated helper Application (EXE). Same XML modification pattern applies.

    Preserve existing RuntimeLibrary settings.
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDConfigurationWizardElevated/EIDConfigurationWizardElevated.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="auto">
  <name>Task 5: Update EIDLogManager.vcxproj with C++23 flag</name>
  <files>EIDLogManager/EIDLogManager.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections.

    This is the diagnostic utility Application (EXE). Note: This project uses precompiled headers (stdafx.h) - ensure LanguageStandard is added correctly alongside PCH settings.

    Preserve existing RuntimeLibrary settings and PrecompiledHeader settings.
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDLogManager/EIDLogManager.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="auto">
  <name>Task 6: Update EIDPasswordChangeNotification.vcxproj with C++23 flag</name>
  <files>EIDPasswordChangeNotification/EIDPasswordChangeNotification.vcxproj</files>
  <action>
    Add `<LanguageStandard>stdcpp23preview</LanguageStandard>` to all 4 `ItemDefinitionGroup/ClCompile` sections.

    This is the Password Filter DLL. Same XML modification pattern applies.

    Preserve existing RuntimeLibrary settings.
  </action>
  <verify>grep "LanguageStandard.*stdcpp23preview" EIDPasswordChangeNotification/EIDPasswordChangeNotification.vcxproj | wc -l returns 4</verify>
  <done>All 4 configurations have LanguageStandard element</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>All 6 dependent projects (3 DLLs, 3 EXEs) with C++23 preview flag added to all 4 configurations each</what-built>
  <how-to-verify>
    1. Build the entire solution to verify all projects compile together:

       Using Developer Command Prompt:
       ```
       msbuild EIDCredentialProvider.sln /p:Configuration=Release /p:Platform=x64 /t:Rebuild /v:minimal
       ```

    2. Verify the build completes with zero errors
    3. Check that all output files exist:
       - x64\Release\EIDCardLibrary.lib
       - x64\Release\EIDCredentialProvider.dll
       - x64\Release\EIDAuthenticationPackage.dll
       - x64\Release\EIDConfigurationWizard.exe
       - x64\Release\EIDConfigurationWizardElevated.exe
       - x64\Release\EIDLogManager.exe
       - x64\Release\EIDPasswordChangeNotification.dll

    4. Note any warnings (we will address in plan 01-03)

    Expected: Full solution builds successfully, all 7 projects produce their expected outputs.
  </how-to-verify>
  <resume-signal>Type "Solution builds successfully" or describe any build errors</resume-signal>
</task>

</tasks>

<verification>
All 6 .vcxproj files contain 4 LanguageStandard elements each (24 total new elements).
Static CRT linkage is preserved (RuntimeLibrary unchanged).
Each project builds successfully and produces expected output (.lib, .dll, or .exe).
</verification>

<success_criteria>
1. All 6 .vcxproj files modified with LanguageStandard in all configurations
2. Full solution builds with exit code 0
3. No RuntimeLibrary values were changed from /MT or /MTd
</success_criteria>

<output>
After completion, create `.planning/phases/01-build-system/01-02-SUMMARY.md`
</output>
