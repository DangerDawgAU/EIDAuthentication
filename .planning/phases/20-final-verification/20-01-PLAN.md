---
phase: 20-final-verification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false
requirements:
  - VER-01

user_setup:
  - service: SonarQube
    why: "Final scan verification to confirm all fixable issues resolved"
    dashboard_config:
      - task: "Mark issues as Won't Fix"
        location: "SonarQube Dashboard -> Issues -> Filter by category -> Resolve as Won't Fix"
        details: "Use VERIFICATION.md justifications for each category"
      - task: "Run fresh SonarQube scan"
        location: "SonarQube Dashboard or CLI"
        details: "Trigger new analysis to confirm zero fixable issues remain"

must_haves:
  truths:
    - "All ~1,000 Won't Fix issues are marked in SonarQube UI"
    - "SonarQube scan shows only Won't Fix issues (no open issues)"
    - "No new issues introduced during v1.2 modernization"
  artifacts:
    - path: ".planning/VERIFICATION.md"
      provides: "Won't Fix justifications for SonarQube issues"
      min_lines: 100
  key_links:
    - from: "SonarQube Dashboard"
      to: ".planning/VERIFICATION.md"
      via: "User marks issues using documented justifications"
      pattern: "Won't Fix resolutions"
---

<objective>
Verify SonarQube confirms all fixable issues are resolved after v1.2 modernization.

Purpose: Confirm that the ~55 issues fixed in Phase 19 and ~1,000 documented exceptions result in a clean SonarQube scan.
Output: Confirmed SonarQube status with all issues resolved or documented as Won't Fix.
</objective>

<execution_context>
@C:/Users/user/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/user/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/VERIFICATION.md
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Mark ~1,000 SonarQube issues as Won't Fix</name>
  <files>N/A - SonarQube UI operation</files>
  <action>
    This task requires human action in SonarQube UI. Claude cannot access SonarQube directly.

    Using the VERIFICATION.md document as reference:
    1. Log into SonarQube dashboard
    2. Navigate to Issues for the EIDAuthentication project
    3. For each category in VERIFICATION.md, filter by issue type
    4. Apply "Won't Fix" resolution with the appropriate justification:
       - Category A: "LSASS security context - cannot use dynamic allocation"
       - Category B: "Windows API compatibility requirement"
       - Category C: "Style preference - code is correct and maintainable"
       - Category D: "Risky refactoring with low benefit - working code"
    5. Bulk-select issues of same category when possible for efficiency
  </action>
  <verify>
    Verify in SonarQube UI:
    1. Issues page shows only "Won't Fix" resolved issues
    2. No open (unresolved) issues remain
    3. Issues count matches expectations (~1,000 Won't Fix)
  </verify>
  <done>
    All ~1,000 issues from VERIFICATION.md are marked as Won't Fix in SonarQube.
    No open issues remain in the SonarQube dashboard.
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Run final SonarQube scan</name>
  <files>N/A - SonarQube operation</files>
  <action>
    This task requires running a SonarQube analysis.

    Steps:
    1. Trigger a fresh SonarQube analysis (via CI/CD or CLI)
    2. Wait for analysis to complete
    3. Review the results in SonarQube dashboard
    4. Confirm no new issues were introduced
    5. Confirm all previously identified issues show as Resolved (Won't Fix) or Closed
  </action>
  <verify>
    In SonarQube dashboard:
    1. Navigate to Project -> Issues
    2. Filter for "Open" issues - should be empty or only contain issues not in scope
    3. Filter for "Won't Fix" - should show ~1,000 issues
    4. Check Quality Gate status - should show Passed
  </verify>
  <done>
    SonarQube scan complete with:
    - 0 open fixable issues remaining
    - All v1.2 fixes confirmed (no regressions)
    - Quality Gate passed
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Confirm SonarQube verification results</name>
  <files>N/A</files>
  <action>
    Review the final SonarQube scan results and confirm:
    1. All fixable issues from v1.2 are resolved
    2. No new issues were introduced
    3. The ~1,000 documented issues are properly marked Won't Fix
  </action>
  <verify>
    User confirms:
    1. SonarQube shows 0 open issues (or only Won't Fix)
    2. Quality Gate passes
    3. No new issues introduced during modernization
  </verify>
  <done>
    User confirms SonarQube verification successful.
    Ready to proceed with build verification and milestone sign-off.
  </done>
</task>

</tasks>

<verification>
- SonarQube dashboard shows 0 open fixable issues
- All ~1,000 documented issues marked as Won't Fix with proper justifications
- Quality Gate status is Passed
- No new issues introduced during v1.2 modernization
</verification>

<success_criteria>
- VER-01 Satisfied: SonarQube scan confirms all fixable issues resolved
- All Won't Fix issues have documented justifications
- Quality Gate passes
</success_criteria>

<output>
After completion, create `.planning/phases/20-final-verification/20-01-SUMMARY.md`
</output>
