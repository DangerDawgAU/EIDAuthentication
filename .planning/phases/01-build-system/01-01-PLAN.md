---
phase: 01-build-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - EIDCardLibrary/EIDCardLibrary.vcxproj
autonomous: false

must_haves:
  truths:
    - "EIDCardLibrary builds successfully with C++23 preview flag in all 4 configurations"
    - "No compile errors when building EIDCardLibrary with /std:c++23preview"
    - "Static CRT linkage (/MT for Release, /MTd for Debug) is preserved"
  artifacts:
    - path: "EIDCardLibrary/EIDCardLibrary.vcxproj"
      provides: "C++23 language standard configuration"
      contains: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
      min_lines: 4
  key_links:
    - from: "EIDCardLibrary/EIDCardLibrary.vcxproj"
      to: "MSVC compiler"
      via: "ItemDefinitionGroup/ClCompile/LanguageStandard"
      pattern: "<LanguageStandard>stdcpp23preview</LanguageStandard>"
---

<objective>
Add C++23 preview language standard to EIDCardLibrary project and verify successful build.

Purpose: EIDCardLibrary is the foundational static library that all 6 other projects depend on. It must be updated and verified first before dependent projects can be safely modified.

Output: Modified EIDCardLibrary.vcxproj with C++23 flag enabled, verified building .lib output.
</objective>

<execution_context>
@C:/Users/user/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/user/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-build-system/01-build-system-RESEARCH.md
@.planning/codebase/STACK.md
@.planning/codebase/STRUCTURE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add LanguageStandard to Debug|Win32 configuration</name>
  <files>EIDCardLibrary/EIDCardLibrary.vcxproj</files>
  <action>
    Insert `<LanguageStandard>stdcpp23preview</LanguageStandard>` as the first child element within the `<ClCompile>` section of the `ItemDefinitionGroup` with Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'".

    The section currently starts with:
    ```xml
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
      <ClCompile>
        <Optimization>Disabled</Optimization>
    ```

    Change to:
    ```xml
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
      <ClCompile>
        <LanguageStandard>stdcpp23preview</LanguageStandard>
        <Optimization>Disabled</Optimization>
    ```

    Do NOT modify RuntimeLibrary (keep MultiThreadedDebug).
  </action>
  <verify>grep -A 5 "Debug|Win32" EIDCardLibrary/EIDCardLibrary.vcxproj | grep "LanguageStandard.*stdcpp23preview"</verify>
  <done>LanguageStandard element exists in Debug|Win32 ClCompile section</done>
</task>

<task type="auto">
  <name>Task 2: Add LanguageStandard to Debug|x64 configuration</name>
  <files>EIDCardLibrary/EIDCardLibrary.vcxproj</files>
  <action>
    Insert `<LanguageStandard>stdcpp23preview</LanguageStandard>` as the first child element within the `<ClCompile>` section of the `ItemDefinitionGroup` with Condition="'$(Configuration)|$(Platform)'=='Debug|x64'".

    The section contains `<Midl>` followed by `<ClCompile>`. Add LanguageStandard inside ClCompile before Optimization.

    Do NOT modify RuntimeLibrary (keep MultiThreadedDebug).
  </action>
  <verify>grep -A 10 "Debug|x64" EIDCardLibrary/EIDCardLibrary.vcxproj | grep "LanguageStandard.*stdcpp23preview"</verify>
  <done>LanguageStandard element exists in Debug|x64 ClCompile section</done>
</task>

<task type="auto">
  <name>Task 3: Add LanguageStandard to Release|Win32 configuration</name>
  <files>EIDCardLibrary/EIDCardLibrary.vcxproj</files>
  <action>
    Insert `<LanguageStandard>stdcpp23preview</LanguageStandard>` as the first child element within the `<ClCompile>` section of the `ItemDefinitionGroup` with Condition="'$(Configuration)|$(Platform)'=='Release|Win32'".

    The section currently starts with:
    ```xml
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
      <ClCompile>
        <Optimization>MaxSpeed</Optimization>
    ```

    Change to:
    ```xml
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
      <ClCompile>
        <LanguageStandard>stdcpp23preview</LanguageStandard>
        <Optimization>MaxSpeed</Optimization>
    ```

    Do NOT modify RuntimeLibrary (keep MultiThreaded).
  </action>
  <verify>grep -A 5 "Release|Win32" EIDCardLibrary/EIDCardLibrary.vcxproj | grep "LanguageStandard.*stdcpp23preview"</verify>
  <done>LanguageStandard element exists in Release|Win32 ClCompile section</done>
</task>

<task type="auto">
  <name>Task 4: Add LanguageStandard to Release|x64 configuration</name>
  <files>EIDCardLibrary/EIDCardLibrary.vcxproj</files>
  <action>
    Insert `<LanguageStandard>stdcpp23preview</LanguageStandard>` as the first child element within the `<ClCompile>` section of the `ItemDefinitionGroup` with Condition="'$(Configuration)|$(Platform)'=='Release|x64'".

    The section contains `<Midl>` followed by `<ClCompile>`. Add LanguageStandard inside ClCompile before Optimization.

    Do NOT modify RuntimeLibrary (keep MultiThreaded).
  </action>
  <verify>grep -A 10 "Release|x64" EIDCardLibrary/EIDCardLibrary.vcxproj | grep "LanguageStandard.*stdcpp23preview"</verify>
  <done>LanguageStandard element exists in Release|x64 ClCompile section</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete EIDCardLibrary project with C++23 preview flag added to all 4 configurations (Debug/Release x Win32/x64)</what-built>
  <how-to-verify>
    1. Open Visual Studio 2022 or Developer Command Prompt
    2. Build the EIDCardLibrary project specifically:

       Using Developer Command Prompt:
       ```
       msbuild EIDCardLibrary\EIDCardLibrary.vcxproj /p:Configuration=Release /p:Platform=x64 /t:Rebuild /v:minimal
       ```

       Or build Debug|x64:
       ```
       msbuild EIDCardLibrary\EIDCardLibrary.vcxproj /p:Configuration=Debug /p:Platform=x64 /t:Rebuild /v:minimal
       ```

    3. Verify the build completes with zero errors
    4. Check that output .lib file exists in x64\Release\EIDCardLibrary.lib
    5. Note any warnings (we will address in plan 01-03)

    Expected: Build succeeds with exit code 0, static library produced.
  </how-to-verify>
  <resume-signal>Type "EIDCardLibrary builds successfully" or describe any build errors</resume-signal>
</task>

</tasks>

<verification>
All 4 configurations (Debug/Release x Win32/x64) have LanguageStandard element.
Static CRT linkage (/MT or /MTd) is unchanged in all configurations.
Project builds without compilation errors.
</verification>

<success_criteria>
1. EIDCardLibrary.vcxproj contains 4 LanguageStandard elements (one per configuration)
2. Each LanguageStandard has value "stdcpp23preview"
3. RuntimeLibrary elements remain MultiThreaded (Release) or MultiThreadedDebug (Debug)
4. msbuild completes with exit code 0 for at least one configuration
</success_criteria>

<output>
After completion, create `.planning/phases/01-build-system/01-01-SUMMARY.md`
</output>
